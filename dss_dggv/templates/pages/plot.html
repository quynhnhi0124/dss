{% extends "pages/base.html" %}
{% load static %}
{% block title %}Thống kê{% endblock  %}
{% block content %}
<link rel="stylesheet" href="{% static 'css/plot.css' %}"/>
<div class="container">
	<canvas id="plot" data-url="{% url 'plot' %}"></canvas>
    <div class="head-thumbnail">
        <h1 class = "display-4">Kết quả thống kê</h1>
    </div>
    <div class="content">
    </div>
</div> 

<script type="text/javascript" src="{% static 'js/Chart.min.js' %}"></script>
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  <script>

    $(function () {

      var $hocviChart = $("#plot");
      $.ajax({
        url: $hocviChart.data("url"),
        success: function (data) {

          var ctx = $hocviChart[0].getContext("2d");

          new Chart(ctx, {
            type: 'bar',
            data: {
              labels: data.labels,
              datasets: [{
                label: 'học vị',
                backgroundColor: 'blue',
                data: data.data
              }]          
            },
            options: {
              responsive: true,
              legend: {
                position: 'bottom',
              },
              title: {
                display: true,
                text: 'Thống kê học vị'
              }
            }
          });

        }
      });

    });

  </script>
{% endblock %}